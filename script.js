// This should be your actual scores dictionary
const scoresDictionary = {

        "000000000139.jpg": {
            "FID": {
                "A dog with Sunglasses": 4.813334941864014,
                "A lion with Sunglasses": 2.7885825634002686,
                "Horse running": 4.1096625328063965
            },
            "PSNR": {
                "A dog with Sunglasses": 10.099922401953616,
                "A lion with Sunglasses": 9.629691503348772,
                "Horse running": 12.061393784032612
            },
            "SSIM": {
                "A dog with Sunglasses": 0.3136525659604354,
                "A lion with Sunglasses": 0.18902334085390163,
                "Horse running": 0.39944666951687974
            }
        },
        "000000000285.jpg": {
            "FID": {
                "A dog with Sunglasses": 31.0989933013916,
                "A lion with Sunglasses": 6.9699320793151855,
                "Horse running": 30.90654945373535
            },
            "PSNR": {
                "A dog with Sunglasses": 8.347786612079938,
                "A lion with Sunglasses": 7.751030715175129,
                "Horse running": 10.025925592636613
            },
            "SSIM": {
                "A dog with Sunglasses": 0.1102370010072513,
                "A lion with Sunglasses": 0.08289389164326123,
                "Horse running": 0.1337812221957896
            }
        },
        "000000000632.jpg": {
            "FID": {
                "A dog with Sunglasses": 23.93022918701172,
                "A lion with Sunglasses": 8.596115112304688,
                "Horse running": 20.78570556640625
            },
            "PSNR": {
                "A dog with Sunglasses": 10.415009896605753,
                "A lion with Sunglasses": 9.190363099603932,
                "Horse running": 13.01417992113739
            },
            "SSIM": {
                "A dog with Sunglasses": 0.16744900472463262,
                "A lion with Sunglasses": 0.06122938557673396,
                "Horse running": 0.22113808422884165
            }
        },
        "000000000724.jpg": {
            "FID": {
                "A dog with Sunglasses": 27.038745880126953,
                "A lion with Sunglasses": 6.354520797729492,
                "Horse running": 12.712190628051758
            },
            "PSNR": {
                "A dog with Sunglasses": 9.241865650732993,
                "A lion with Sunglasses": 8.667211267604195,
                "Horse running": 10.27140548283819
            },
            "SSIM": {
                "A dog with Sunglasses": 0.29685802669235684,
                "A lion with Sunglasses": 0.1770073310157648,
                "Horse running": 0.25534608233549655
            }
        },
        "000000000776.jpg": {
            "FID": {
                "A dog with Sunglasses": 34.05232620239258,
                "A lion with Sunglasses": 9.228991508483887,
                "Horse running": 28.53932762145996
            },
            "PSNR": {
                "A dog with Sunglasses": 9.315271437955507,
                "A lion with Sunglasses": 9.194010489220407,
                "Horse running": 11.190233760376675
            },
            "SSIM": {
                "A dog with Sunglasses": 0.11442932528409488,
                "A lion with Sunglasses": 0.07594917093396601,
                "Horse running": 0.11781874080995552
            }
        },
        "000000000785.jpg": {
            "FID": {
                "A dog with Sunglasses": 4.907434463500977,
                "A lion with Sunglasses": 7.314289093017578,
                "Horse running": 2.39872407913208
            },
            "PSNR": {
                "A dog with Sunglasses": 9.261570561579608,
                "A lion with Sunglasses": 9.268078480635518,
                "Horse running": 9.732272921293436
            },
            "SSIM": {
                "A dog with Sunglasses": 0.49580223712405674,
                "A lion with Sunglasses": 0.34306814586790185,
                "Horse running": 0.49954430194487637
            }
        },
        "000000000802.jpg": {
            "FID": {
                "A dog with Sunglasses": 1.8235214948654175,
                "A lion with Sunglasses": 13.219362258911133,
                "Horse running": 2.4640305042266846
            },
            "PSNR": {
                "A dog with Sunglasses": 9.836696386368047,
                "A lion with Sunglasses": 8.851808975808543,
                "Horse running": 10.851693551819679
            },
            "SSIM": {
                "A dog with Sunglasses": 0.30158295794089685,
                "A lion with Sunglasses": 0.21798429360496066,
                "Horse running": 0.3668808549683824
            }
        },
        "000000000872.jpg": {
            "FID": {
                "A dog with Sunglasses": 17.961700439453125,
                "A lion with Sunglasses": 4.602916717529297,
                "Horse running": 28.32120704650879
            },
            "PSNR": {
                "A dog with Sunglasses": 10.93102295662824,
                "A lion with Sunglasses": 8.535973837416723,
                "Horse running": 11.701717556514224
            },
            "SSIM": {
                "A dog with Sunglasses": 0.2074016885008573,
                "A lion with Sunglasses": 0.084834155568091,
                "Horse running": 0.20847111981686986
            }
        },
        "000000000885.jpg": {
            "FID": {
                "A dog with Sunglasses": 2.19897198677063,
                "A lion with Sunglasses": 4.833423137664795,
                "Horse running": 0.9457703828811646
            },
            "PSNR": {
                "A dog with Sunglasses": 12.590673184401439,
                "A lion with Sunglasses": 11.406755139008675,
                "Horse running": 14.707719836258146
            },
            "SSIM": {
                "A dog with Sunglasses": 0.4520628979696726,
                "A lion with Sunglasses": 0.3290426888994694,
                "Horse running": 0.490954503412806
            }
        },
        "000000001000.jpg": {
            "FID": {
                "A dog with Sunglasses": 46.62409210205078,
                "A lion with Sunglasses": 10.776712417602539,
                "Horse running": 26.82111358642578
            },
            "PSNR": {
                "A dog with Sunglasses": 8.125714892995799,
                "A lion with Sunglasses": 8.589480879846509,
                "Horse running": 9.490072753141538
            },
            "SSIM": {
                "A dog with Sunglasses": 0.14600425155265198,
                "A lion with Sunglasses": 0.10289934342683359,
                "Horse running": 0.14538894455234108
            }
        }
    
  };

const scoresDictionary2 = {
    "000000000139.jpg": {
        "A dog with Sunglasses": {
            "FID": 4.141053199768066,
            "PSNR": 12.791899703052206,
            "SSIM": 0.4480528506113557
        },
        "A lion with Sunglasses": {
            "FID": 1.7679767608642578,
            "PSNR": 13.059059980986373,
            "SSIM": 0.3789923834386197
        },
        "Horse running": {
            "FID": 1.9429723024368286,
            "PSNR": 14.023187582886445,
            "SSIM": 0.40185512212662505
        }
    },
    "000000000285.jpg": {
        "A dog with Sunglasses": {
            "FID": 17.29300308227539,
            "PSNR": 11.516770506166974,
            "SSIM": 0.16123662630800126
        },
        "A lion with Sunglasses": {
            "FID": 3.8911261558532715,
            "PSNR": 10.18464445580107,
            "SSIM": 0.13202211571347885
        },
        "Horse running": {
            "FID": 14.05180835723877,
            "PSNR": 11.571812064738811,
            "SSIM": 0.1500018521820972
        }
    },
    "000000000632.jpg": {
        "A dog with Sunglasses": {
            "FID": 21.401687622070312,
            "PSNR": 12.471542307104462,
            "SSIM": 0.21465839788923405
        },
        "A lion with Sunglasses": {
            "FID": 3.9509153366088867,
            "PSNR": 11.615917665186617,
            "SSIM": 0.15896696211058706
        },
        "Horse running": {
            "FID": 5.021905899047852,
            "PSNR": 14.17809888679204,
            "SSIM": 0.18687446460139576
        }
    },
    "000000000724.jpg": {
        "A dog with Sunglasses": {
            "FID": 6.925352573394775,
            "PSNR": 11.8576121171602,
            "SSIM": 0.30830972644439925
        },
        "A lion with Sunglasses": {
            "FID": 4.1884260177612305,
            "PSNR": 10.904820799115251,
            "SSIM": 0.2322671403883068
        },
        "Horse running": {
            "FID": 7.819611549377441,
            "PSNR": 12.855094032583235,
            "SSIM": 0.2821068521009639
        }
    },
    "000000000776.jpg": {
        "A dog with Sunglasses": {
            "FID": 13.468216896057129,
            "PSNR": 12.153709181681995,
            "SSIM": 0.14580327412669503
        },
        "A lion with Sunglasses": {
            "FID": 4.066197872161865,
            "PSNR": 10.68958165096926,
            "SSIM": 0.08653738323241493
        },
        "Horse running": {
            "FID": 18.02826690673828,
            "PSNR": 13.374714567400122,
            "SSIM": 0.15457555316417673
        }
    },
    "000000000785.jpg": {
        "A dog with Sunglasses": {
            "FID": 1.1320439577102661,
            "PSNR": 12.240508120497658,
            "SSIM": 0.47232078534475114
        },
        "A lion with Sunglasses": {
            "FID": 5.9632673263549805,
            "PSNR": 11.99228152924863,
            "SSIM": 0.394093023164458
        },
        "Horse running": {
            "FID": 0.9089305400848389,
            "PSNR": 14.046687399363563,
            "SSIM": 0.5136524466002762
        }
    },
    "000000000802.jpg": {
        "A dog with Sunglasses": {
            "FID": 2.6795473098754883,
            "PSNR": 13.760794280721553,
            "SSIM": 0.45065246658794117
        },
        "A lion with Sunglasses": {
            "FID": 10.287025451660156,
            "PSNR": 12.618751380358473,
            "SSIM": 0.3236640584292137
        },
        "Horse running": {
            "FID": 8.41752815246582,
            "PSNR": 13.069200584295404,
            "SSIM": 0.3782796730195102
        }
    },
    "000000000872.jpg": {
        "A dog with Sunglasses": {
            "FID": 4.315158843994141,
            "PSNR": 12.320187582107742,
            "SSIM": 0.19823045584346563
        },
        "A lion with Sunglasses": {
            "FID": 4.872196674346924,
            "PSNR": 11.58782337283652,
            "SSIM": 0.1487502384160304
        },
        "Horse running": {
            "FID": 12.548315048217773,
            "PSNR": 12.688183134402271,
            "SSIM": 0.19571345639637108
        }
    },
    "000000000885.jpg": {
        "A dog with Sunglasses": {
            "FID": 1.41489577293396,
            "PSNR": 13.741207274211336,
            "SSIM": 0.5069141360262441
        },
        "A lion with Sunglasses": {
            "FID": 3.6550731658935547,
            "PSNR": 14.434685774005338,
            "SSIM": 0.44781573639590344
        },
        "Horse running": {
            "FID": 1.4358489513397217,
            "PSNR":

 15.440831601557555,
            "SSIM": 0.5239307048489867
        }
    },
    "000000001000.jpg": {
        "A dog with Sunglasses": {
            "FID": 29.7850284576416,
            "PSNR": 10.790966425534466,
            "SSIM": 0.17578478489661806
        },
        "A lion with Sunglasses": {
            "FID": 8.854628562927246,
            "PSNR": 11.47808012030435,
            "SSIM": 0.14476439053752319
        },
        "Horse running": {
            "FID": 11.888341903686523,
            "PSNR": 11.081424721959095,
            "SSIM": 0.16587790863574475
        }
    }
};

const baseImageIds = ["000000000139.jpg","000000000285.jpg","000000000632.jpg","000000000724.jpg",
"000000000776.jpg","000000000785.jpg","000000000802.jpg","000000000872.jpg","000000000885.jpg","000000001000.jpg"]

const prompts = ["A dog with Sunglasses", "A lion with Sunglasses", "Horse running"];

// Base directory paths
const baseImagePath = "data/coco_dataset/val2017/";
const stableGenPath = baseImagePath + "generated_images_stable/";
const baselineGenPath = baseImagePath + "generated_images/";

// Function to generate image cell HTML
function generateImageCell(imageId, prompt, isStable) {
    const imagePath = (isStable ? stableGenPath : baselineGenPath) + imageId + "_" + prompt.replace(/ /g, '_') + ".jpg";
    const scores = (isStable ? scoresDictionary[imageId] :scoresDictionary2[imageId] );
    console.log(imageId)
    console.log(imagePath)
    console.log(scoresDictionary)
    console.log(scores)

    // Extract the individual scores for the prompt
    const FID = scores.FID[prompt];
    const PSNR = scores.PSNR[prompt];
    const SSIM = scores.SSIM[prompt];

    const scoreText = `FID: ${FID.toFixed(2)}<br>PSNR: ${PSNR.toFixed(2)}<br>SSIM: ${SSIM.toFixed(2)}`;
    return `<div class="image-cell">
      <img src="${imagePath}" alt="${prompt}" />
      <div class="scores">${scoreText}</div>
    </div>`;
}



// function buildTable() {
//     let tableHTML = '<div class="image-table">';

//     // Header row for prompts
//     tableHTML += '<div class="image-row header">';
//     prompts.forEach(prompt => { // Include the base image as one of the headers
//       tableHTML += `<div class="prompt-title">${prompt}</div>`;
//     });
//     tableHTML += '</div>';
  
//     // Rows for images
//     baseImageIds.forEach(imageId => {
//       tableHTML += '<div class="image-row">';
      
//       // Cells for each prompt, including the base image as the first prompt
//       [imageId, ...prompts].forEach((prompt, index) => {
//         tableHTML += '<div class="image-cell">';
//         if (index === 0) {
//           // Base image
//           tableHTML += `<img src="${baseImagePath + imageId}" alt="Base Image">`;
//         } else {
//           // Generated images
//           tableHTML += generateImageCell(imageId, prompt, true); // Assuming you always want stable images
//         }
//         tableHTML += '</div>';
//       });
  
//       tableHTML += '</div>'; // Close image row
//     });
  
//     tableHTML += '</div>'; // Close image table
//     document.getElementById('imageTable').innerHTML = tableHTML;
//   }

// // Call buildTable on page load
// window.onload = buildTable;

function buildTable() {
    let stableTableHTML = '<div class="image-table">';
    let baselineTableHTML = '<div class="image-table">';
  
    // Header row for prompts
    const headerRowHTML = '<div class="image-row header">' +
      '<div class="prompt-title">Base Image</div>' +
      prompts.map(prompt => `<div class="prompt-title">${prompt}</div>`).join('') +
      '</div>';
  
    // Add the header row to both stable and baseline tables
    stableTableHTML += headerRowHTML;
    baselineTableHTML += headerRowHTML;
  
    // Rows for images
    baseImageIds.forEach(imageId => {
      let stableRowHTML = '<div class="image-row">';
      let baselineRowHTML = '<div class="image-row">';
  
      // Cells for each prompt, including the base image as the first prompt
      [imageId, ...prompts].forEach((prompt, index) => {
        let stableCellHTML = '<div class="image-cell">';
        let baselineCellHTML = '<div class="image-cell">';
        
        if (index === 0) { // Base image cell
          stableCellHTML += `<img src="${baseImagePath + imageId}" alt="Base Image">`;
          baselineCellHTML += `<img src="${baseImagePath + imageId}" alt="Base Image">`;
        } else { // Generated image cells
          stableCellHTML += generateImageCell(imageId, prompt, true); // Stable model images
          baselineCellHTML += generateImageCell(imageId, prompt, false); // Baseline model images
        }
  
        stableCellHTML += '</div>';
        baselineCellHTML += '</div>';
  
        stableRowHTML += stableCellHTML;
        baselineRowHTML += baselineCellHTML;
      });
  
      stableRowHTML += '</div>'; // Close stable image row
      baselineRowHTML += '</div>'; // Close baseline image row
  
      stableTableHTML += stableRowHTML;
      baselineTableHTML += baselineRowHTML;
    });
  
    stableTableHTML += '</div>'; // Close stable image table
    baselineTableHTML += '</div>'; // Close baseline image table
  
    // Output the tables to the HTML
    document.getElementById('stableImageTable').innerHTML = stableTableHTML;
    document.getElementById('baselineImageTable').innerHTML = baselineTableHTML;
  }
  
  window.onload = buildTable;
  